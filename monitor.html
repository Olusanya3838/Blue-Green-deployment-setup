<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Monitor</title><style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:Arial;transition:background .5s;min-height:100vh}body.blue{background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%)}body.green{background:linear-gradient(135deg,#11998e 0%,#38ef7d 100%)}.container{min-height:100vh;display:flex;align-items:center;justify-content:center;color:#fff;padding:20px}.card{background:rgba(255,255,255,.1);backdrop-filter:blur(10px);padding:40px;border-radius:20px;text-align:center;min-width:400px}h1{font-size:3em;margin-bottom:20px}.badge{display:inline-block;padding:15px 40px;font-size:2em;font-weight:700;border-radius:50px;margin:20px 0;text-transform:uppercase;border:3px solid #fff}.info{margin:20px 0;font-size:1.2em}.value{font-weight:700}button{padding:12px 24px;margin:10px;border:2px solid #fff;background:rgba(255,255,255,.2);color:#fff;border-radius:8px;cursor:pointer;font-weight:700}</style></head><body class="blue"><div class="container"><div class="card"><h1>Blue/Green Monitor</h1><div class="badge" id="badge">LOADING...</div><div class="info"><div>Release: <span class="value" id="release">-</span></div><div>Status: <span class="value" id="status">-</span></div><div>Updated: <span class="value" id="time">-</span></div></div><button onclick="check()">Refresh</button><button onclick="chaos()">Chaos Blue</button><button onclick="stop()">Stop</button><div id="err"></div></div></div><script>async function check(){try{const r=await fetch("/version");const p=r.headers.get("X-App-Pool");document.getElementById("badge").textContent=p?p.toUpperCase():"UNKNOWN";document.body.className=p||"blue";document.getElementById("release").textContent=r.headers.get("X-Release-Id")||"-";document.getElementById("status").textContent=r.status;document.getElementById("time").textContent=new Date().toLocaleTimeString();document.getElementById("err").innerHTML=""}catch(e){document.getElementById("err").innerHTML="<div style=\"color:red;margin-top:20px\">Error: "+e.message+"</div>"}}async function chaos(){try{await fetch("http://3.90.62.114:8081/chaos/start?mode=error",{method:"POST"});alert("Chaos started")}catch(e){alert("Failed")}}async function stop(){try{await fetch("http://3.90.62.114:8081/chaos/stop",{method:"POST"});await fetch("http://3.90.62.114:8082/chaos/stop",{method:"POST"});alert("Stopped")}catch(e){}}check();setInterval(check,2e3)</script></body></html>
